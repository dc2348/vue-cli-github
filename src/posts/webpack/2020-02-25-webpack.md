# Webpack

- 최신 frontend framework(vue, react, angular 등)를 사용할 때 CLI를 이용하여 프로젝트를 구성하면 기본으로 구성에 포함됨
- 성능 및 구조를 위해 사용을 권장하고 있음
- vue를 사용하기 위해서는 webpack은 선택이 아닌 필수



## Webpack 소개
### Webpack이란?
- 연관있는 웹 자원들을 js, css, img와 같은 static한 자원으로 변환(번들링)해주는 모듈 번들러

![Webpack](/posts/images/webpack/2020-02-25-webpack-01.jpg)

### Webpack을 사용하는 이유
1. Web Task Manager 역할
    - webpack = 기존 Web Task Manager(Gulp, Grunt)의 기능 + 모듈 의존성 관리
    - ex) webpack default cli 명령어를 이용하여 production 용으로 빌드할 경우 minification을 자동으로 해줌
    ```bash
    webpack -p
    ```
    - 전체적인 통합 웹 개발 도구라고 볼 수 있음
<br>
2. 자바스크립트 모듈 관리
    - 기존 모듈 로더(AMD, Common js, ES6의 Modules)들이 해주던 복잡한 앱을 모듈 단위로 관리하는 기능을 포함함
    - 기존 모듈 로더들과 차이점 : 모듈 간의 관계를 **청크**(chunk)단위로 나눠 필요할 때 로딩
<br>

###### :bulb: 자바스크립트 모듈화 문제
```html
<script src="../index.js"></script>
<script src="module1.js"></script>
<script src="library1.js"></script>
<script src="module2.js"></script>
```
- 전역변수 충돌(javascript는 파일을 여러개로 나누어 include하여도 같은 스코프를 가짐)
- 스크립트 로딩 순서
- 복잡도에 따른 관리상의 문제
:point_right: 이런 문제들을 해결하기 위해 모듈 로더들, Webpack이 등장

### Webpack의 철학
1. 모든 것은 모듈이다(Everything is Module)
    - js뿐만 아니라 모든 웹 자원(css, html) 각각의 파일이 모두 모듈 형태로 로딩 가능'
    ```js
    require('base.css');
    require('main.js')
    ```
2. 필요할 때 필요한 것만 로드(Load only *what* you need and *when* you need)
    - 초기에 불필요한 것들을 모두 로딩하지 않고, 필요할 때 필요한 것만 로딩하여 사용
    - 즉, lazy loading 같은 기능도 제공 :heavy_check_mark:


### 웹팩 시작하기
- webpack 설치하기
```
npm i webpack -g
```

- webpack-cli 설치하기
```bash
npm install webpack-cli -g
```

- 번들링하기

아래 1번과 2번 방법은 동일한 결과를 나타낸다.

1. console에서 직접 실행
    - `webpack '번들링할파일명' -o '번들링된파일명'` (webpack 4.41.6 기준)
    ```bash
    webpack app/index.js -o dist/bundle.js
    ```
    :bulb: `-o`는 output의 약자
2. config 파일을 생성해 놓기
        1) 루트 디렉토리에  `webpack.config.js` 생성
        2) 설정 코드 삽입
    ```js
    var path = require('path');

    module.exports = {
        entry: './app/index.js',
        output: {
            filename: 'bundle.js',
            path: path.resolve(__dirname, 'dist')
        }
    };
    ```


# [부록] Webpack을 위한 NPM 소개
## 1. Webpack Entry
## 2. Webpack Output
## 3. Webpack Loader
## 4. Webpack Plugins
## 5. Webpack Resolve
# 중간정리
# Webpack Dev Server
# Webpack Dev Middleware
# Webpack 기타 및 외부 도구 연동
# [최종 프로젝트] Vue Loader 해석
# 마무리





### :bookmark_tabs: 참조(references)
- https://www.inflearn.com/course/webpack-%EC%9B%B9%ED%8C%A9-%EA%B0%95%EC%A2%8C
- https://github.com/joshua1988/LearnWebpack
- https://webpack.js.org/api/cli/
