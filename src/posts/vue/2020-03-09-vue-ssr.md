# 서버 사이드 렌더링(Server-Side Rendering, SSR)이란?

Vue.js는 **클라이언트 측 애플리케이션**(client-side applications)을 구축하기위한 프레임워크다. 
기본적으로 Vue 구성 요소는 브라우저에서 DOM을 생성하고 조작한다.
그러나 동일한 구성요소를 서버의 HTML 문자열로 렌더링하여 브라우저에 직접 전송하고, 마지막으로 정적 마크업을 클라이언트의 완전 인터렉티브 앱으로 "수화"하는 것도 가능하다.

또한, 서버에서 렌더링된 Vue.js 앱은, 앱 코드의 대다수가 서버와 클라이언트 양쪽 모두에서 실행된다는 측면에서 "동형" 또는 "범용"으로 간주될 수 있다.


# 왜 SSR인가?

### SSR의 장점
기존 SPA(단일 페이지 애플리케이션)와 비교하여 SSR의 장점은 주로 다음과 같다.

- **검색엔진 크롤러가 완전히 렌더링된 페이지를 직접 볼 수 있기 때문에 SEO가 더 좋다.**
    - 현재 구글과 빙은 동기식(synchronous) 자바스크립트 애플리케이션을 잘 색인할 수 있다는 점에 주목해야한다. 핵심 단어는 동기(synchronous)이다. 만약 로딩 스피너와 함께 앱이 실행되고, Ajax를 통해 콘텐츠를 가져올 때 크롤러는 그 작업이 완료될 때까지 기다려주지 않는다. 즉, SEO가 중요한 페이지에 비동기적으로 가져오는 콘텐츠가 있다면 SSR로 변경이 필요할 수 있다.
- **느린 인터넷이나 느린 장치에서 특히 컨텐츠 간 시간을 단축할 수 있다.**
    - 서버에서 렌더된 마크업은 자바스크립트 파일이 다운로드되거나 화면에 표시되기 위해 실행될 때 까지 기다릴 필요가 없기 때문에 사용자는 완전히 렌더된 페이지를 빠르게 볼 수 있다. 이 경우 일반적으로 더 나은 사용자 경험을 가져온다. 그리고 콘텐츠 간 시간이 전환율과 직접 관련이 있는 애플리케이션에 매우 중요할 수 있다.


### SSR의 단점
물론 SSR 사용 시 고려해야 할 몇 가지 절충 사항이 있다.
- **개발 제약 사항**
    - 브라우저별 코드는 특정 라이프사이클 후크 내에서만 사용할 수 있다. 일부 외부 라이브러리는 서버 지원 앱에서 실행하기 위해 특별한 처리가 필요할 수 있다.
- **더 많은 빌드 설정 및 개발 요구사항**
    - 어떠한 정적 파일 서버에 든 배포할 수 있는 완전 정적 SPA와 달리, 서버에서 렌더링된 앱은 node.js 서버를 실행할 수 있는 환경을 필요로 한다.
- **더 많은 서버 측 부하**
    - Node.js에서 전체 앱을 렌더링하는 것은 단순 정적 파일을 제공하는 것보다 분명히 더 많은 CPU를 사용하게 된다. 따라서 트래픽이 많을 것으로 예상될 때는 해당 서버 로드에 대비하고 캐싱 전략을 현명하게 선택해야한다.


앱에 SSR을 사용하기 전에, 첫 번째 질문은 실제로 그것을 필요로 하는지이다. 그것은 앱에 시간 대 콘텐츠가 얼마나 중요한지에 달려 있다. 
ex) 예를 들어, 초기 로드 시 추가 수백 밀리초가 그다지 중요하지 않은 내부 대시보드를 만들고 있다면 오히려 SSR은 지나친 대응일 수 있다. 그러나, 시간대 콘텐츠가 절대적으로 중요한 경우, SSR은 가능한 최고의 초기 부하 성능을 달성하는 데 도움이 될 수 있다. 


### Prerendering

만약 단지 소수의 마케팅 페이지의 SEO를 개선하기 위해 SSR를 조사하고 있다면(예: /, /about, /contact 등) 아마도 prerendering이 SSR보다 더 나을 수 있다. 웹 서버를 사용하여 즉시 HTML을 컴파일하는 대신, 사전렌더링(prerendering)은 빌드 시 특정 경로에 대한 정적 HTML 파일을 생성하기만 하면 된다. prerendering의 장점은 세팅이 더 쉽고 프론트엔드를 완전히 정적인 사이트로 유지할 수 있다는 것이다.

<br>

---
### :bookmark_tabs: 참조(references)
- [https://kr.vuejs.org/v2/guide/ssr.html](https://kr.vuejs.org/v2/guide/ssr.html)
- [https://ssr.vuejs.org/](https://ssr.vuejs.org/)